# Trading Signals Configuration

# Symbols to track (Binance format)
symbols:
  - BTCUSDT
  - ETHUSDT

# Available timeframes: 1m, 5m, 15m, 1h, 4h, 1d, 1w
timeframes:
  - 4h
  - 1d

# Number of candles to fetch for analysis
lookback_periods: 730

# Technical indicator settings
indicators:
  rsi:
    period: 14
    oversold: 30
    overbought: 70

  macd:
    fast: 12
    slow: 26
    signal: 9

  bollinger:
    period: 20
    std_dev: 2.0

  ema:
    fast: 9
    slow: 21

# Signal scoring weights (must sum to 1.0)
signal_weights:
  rsi: 0.25
  macd: 0.25
  bollinger: 0.25
  ema: 0.25

# Multi-source aggregation weights
# These control how technical, on-chain, and other signals are combined
aggregation:
  # Default weights (used when regime detection is disabled)
  default:
    technical: 0.6
    onchain: 0.3
    fundamental: 0.05
    supply: 0.05
    sentiment: 0.0

  # Regime-specific weights (used when regime detection is enabled)
  bull:
    technical: 0.5
    onchain: 0.25
    fundamental: 0.1
    supply: 0.1
    sentiment: 0.05

  bear:
    technical: 0.4
    onchain: 0.35 # On-chain more important to spot accumulation
    fundamental: 0.1
    supply: 0.1
    sentiment: 0.05

  sideways:
    technical: 0.6 # Mean reversion works well in ranges
    onchain: 0.2
    fundamental: 0.1
    supply: 0.05
    sentiment: 0.05

# Alert thresholds
alerts:
  # Only alert when score exceeds these values
  strong_buy_threshold: 60
  strong_sell_threshold: -60

  # Rate limiting (seconds between alerts for same symbol)
  cooldown_seconds: 3600

# Notification settings (fill in to enable)
notifications:
  discord:
    enabled: false
    webhook_url: ""

  telegram:
    enabled: false
    bot_token: ""
    chat_id: ""

# Backtesting settings
backtest:
  # Default capital and position sizing
  initial_capital: 10000.0
  position_size: 1.0 # Fraction of capital per trade (0.0 to 1.0)
  fee_rate: 0.001 # Trading fee as decimal (0.001 = 0.1%)

  # Default trading mode: "long_only", "short_only", or "bidirectional"
  mode: "bidirectional"

  # Signal score thresholds
  long_entry_score: 60.0 # Enter long when score >= this (STRONG_BUY)
  short_entry_score: -60.0 # Enter short when score <= this (STRONG_SELL)
  long_exit_score: -60.0 # Exit long when score <= this
  short_exit_score: 60.0 # Exit short when score >= this

  # Alternative exit mode: exit on any opposite signal
  exit_on_opposite: false

  # Default preset (if not specified via CLI)
  # Available: long_strong_signals, short_strong_signals, bidirectional_strong,
  #            trend_following, mean_reversion
  default_strategy: null # null means use custom config above

# Cache settings
cache:
  enabled: true
  directory: "data"
  max_age_hours: 1

# API settings
api:
  binance:
    # Use Binance.US if regular Binance is geo-blocked
    base_url: "https://api.binance.us"
    rate_limit_per_minute: 1200
